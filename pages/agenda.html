<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="../css/styles.css">
    <link href='https://cdn.jsdelivr.net/npm/fullcalendar@5.10.1/main.min.css' rel='stylesheet' />
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@5.10.1/main.min.js'></script>
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@5.10.1/locales-all.min.js'></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <title>Agenda - Amadas Beauty</title>
</head>

<body>

    <header>
        <div class="galeria-container">
            <video src="../media/vid-intro.mp4" muted autoplay loop></video>
        </div>
        <a href="../index.html">
            <img class="logo" src="../media/logo.jpg" alt="logo amadas beauty">
        </a>
    </header>
    <main>
        <h1>Agenda de horas</h1>
        <p>Seleccione una de nuestras horas disponibles:</p>
        
        <form action="./envio_agenda.php" method="POST">
            <div id='calendar'></div>
            <p>Seleccione día y hora</p>
            <select id="horas-disp" name="horas-disp" required>
                <option value="" disabled selected>Horas disponibles</option>
                <option value="Lunes a las 12:00hrs">Lunes a las 12:00hrs</option>
                <option value="Lunes a las 14:00hrs">Lunes a las 14:00hrs</option>
                <option value="Lunes a las 16:00hrs">Lunes a las 16:00hrs</option>
                <option value="Miercoles a las 12:00hrs">Miercoles a las 12:00hrs</option>
                <option value="Miercoles a las 14:00hrs">Miercoles a las 14:00hrs</option>
                <option value="Miercoles a las 16:00hrs">Miercoles a las 16:00hrs</option>
                <option value="Viernes a las 12:00hrs">Viernes a las 12:00hrs</option>
                <option value="Viernes a las 14:00hrs">Viernes a las 14:00hrs</option>
                <option value="Viernes a las 16:00hrs">Viernes a las 16:00hrs</option>
            </select>
            <input id="hora" name="hora" type="text" hidden>
            <p>Seleccione el servicio que busca</p>
            <select name="serv-disp" id="serv-disp" required>
                <option value="" disabled selected>Servicios disponibles</option>
                <option id="lif" name="lif" value="Lifting">Lifting</option>
                <option id="perf" name="perf" value="Perfilado de cejas">Perfilado de cejas</option>
                <option id="ond" name="ond" value="Ondulado de pestañas">Ondulado de pestañas</option>
            </select>
            <input id="servicio" name="servicio" type="text" hidden>
            <p>Especialista</p>
            <select name="esp-disp" id="esp-disp" onchange="showSelectedText()" required>
                <option value="" disabled selected>Especialistas disponibles</option>
                <option id="sofia" name="sofia" value="Sofia Ahumada">Sofia Ahumada</option>
            </select>
            <input id="especialista" name="especialista" type="text" hidden>
            <button onclick="alerta()">Confirmar</button>
        </form>
    </main>
    <footer>
        <hr>
        <div class="rrss">
            <p>Encuentrenos en:</p>
            <a href="https://ig.me/m/amadasbeauty_" target="_blank">
                <i class="bi bi-instagram"> amadasbeauty_</i>
            </a>
            <a href="https://wa.me/957721821/?text=Hola%20AmadasBeauty%20..." target="_blank">
                <i class="bi bi-whatsapp"> whatsapp</i>
            </a>
        </div>
        <p>© Copyright 2024 Amadas Beauty.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var calendarEl = document.getElementById('calendar');

            var calendar = new FullCalendar.Calendar(calendarEl, {
                locale:'es',
                initialView: 'dayGridMonth',
                headerToolbar: {
                    left: 'title',
                    right: 'dayGridMonth,timeGridWeek,timeGridDay'
                },
                selectable: true,
                select: function (info) {
                    var title = prompt('Enter Event Title:');
                    if (title) {
                        calendar.addEvent({
                            title: title,
                            start: info.startStr,
                            end: info.endStr,
                            allDay: info.allDay
                        });
                        var xhr = new XMLHttpRequest();
                        xhr.open("POST", "envio_agenda.php", true);
                        xhr.setRequestHeader("Content-Type", "application/json");
                        xhr.send(JSON.stringify({
                            title: title,
                            start: info.startStr,
                            end: info.endStr
                        }));
                    }
                    calendar.unselect();
                }
            });

            calendar.render();
        });
    </script>

</body>

</html>